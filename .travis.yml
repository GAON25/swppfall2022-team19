# CI Environment
dist: bionic

# Job Configurations
jobs:
  include:
    - language: python
      python: "3.9.6"
      addons:
        sonarcloud:
          organization: swsnu
          token:
            secure: ""IVZ8Q46w2PV4KhFaHgEnijG/stRoGWS7GfX4nACywOzjR0tSrg8j83gvas6OVcu4AsKzRAPZ2HzV84V1UJ8fu58XNi+mTLX2+0GQf7C4XRsU2f46rP20T7yZD7mc8bU6dCs7oszXiDDRfXpV+Rhp4xtUu1+emn+aGOUQbWs31TK0BXJPFUvC6NQB8Tg3hp0NWLIRNlUNx2/lQODbgu+AziOMp9zTottM1MDuyIto1JVyRQ6nL+538V6T2EcgcGvmybeaXFqTc7Z1pqTQ5w9wCuBbCCbWwRugcX9bF7YtAl7I52MSEa2qxP+GmJxFIoBtROCx3iwwsfmzJkcVxlM6Fx8AontBGEBTd1wHNylcPwPOvn1Rh1PSVKOhVOny929B49DBcKHkJs1qXciLCZe6oJd8ojMLAdNX3pQKgiZ/DA/3pOkNLDbAhqY19p5AFFKYxGOoC+teUDw2lRQDirj839XkoNWkvFmGiZK7a73/sxiJF/xBtUgGmax+O55HnBjV3AmbXM8aUnceRxFmJQtE8figQbuKm2V+SwZU4q6ZLJvwjncTJ1M+5ANE7lW2tHIRn743OwKOluL1PPpUc8MsKmDbNRC+cslryzWjOOj5qStoMTHRtJ5uCfWBtsKhO8ikypJ58ffTOeUMdcV2WnuUUB2x1x/tw26MhMIOpfB9jy0=""
      install:
        - cd backend
        - pip install -r requirements.txt
      script:
        - pylint **/*.py --load-plugins pylint_django
        - coverage run --source='.' manage.py test
        - coverage xml
        - cd .. && sonar-scanner

    - language: node_js
      node_js: 14
      install:
        - cd frontend
        - yarn install
      script:
        - ./node_modules/.bin/eslint src
        - yarn test --coverage --watchAll=false
